---
sidebar_position: 2
---

import Tabs from "@theme/Tabs"
import TabItem from "@theme/TabItem"

# Quick setup

Semaphore provides an official CLI to set up your project with Hardhat. If your NPM version is 5.2 or higher you can use NPX:

```bash
npx @semaphore-protocol/cli@latest create my-app
```

Otherwise, install `@semaphore-protocol/cli` globally and run the `create` command:

```bash
npm i -g @semaphore-protocol/cli@latest
semaphore create my-app
```

:::info
The [`semaphore CLI`](https://github.com/semaphore-protocol/semaphore/tree/main/packages/cli) can also be used to get group data from a supported network (e.g `semaphore get-groups --network goerli`).
:::

To start working on your project, install the dependencies:

<Tabs
defaultValue="npm"
groupId="package-managers"
values={[
{label: 'npm', value: 'npm'},
{label: 'Yarn', value: 'yarn'},
]}>
<TabItem value="npm">

```bash
cd my-app
npm i
```

</TabItem>
<TabItem value="yarn">

```bash
cd my-app
yarn
```

</TabItem>
</Tabs>

## Output

The `create` command will create a directory called my-app (or whatever name you choose) inside the current folder. That directory will contain the initial project structure, which includes a simple contract, a task to deploy that contract and some tests.

```
my-app
├── contracts
│   └── Greeter.sol
├── .env.example
├── .gitignore
├── hardhat.config.ts
├── package.json
├── README.md
├── tasks
│   └── deploy.ts
├── test
│   └── Greeter.ts
└── tsconfig.json
```

The `Greeter.sol` contract creates a Semaphore group, allows users to join that group with their Semaphore identity, and finally allows group members to send an anonymous greeting.

## Usage

### Compile

Compile your contracts by running:

<Tabs
defaultValue="npm"
groupId="package-managers"
values={[
{label: 'npm', value: 'npm'},
{label: 'Yarn', value: 'yarn'},
]}>
<TabItem value="npm">

```bash
npm run compile
```

</TabItem>
<TabItem value="yarn">

```bash
yarn compile
```

</TabItem>
</Tabs>

### Test

Test your contracts by running:

<Tabs
defaultValue="npm"
groupId="package-managers"
values={[
{label: 'npm', value: 'npm'},
{label: 'Yarn', value: 'yarn'},
]}>
<TabItem value="npm">

```bash
npm test
```

</TabItem>
<TabItem value="yarn">

```bash
yarn test
```

</TabItem>
</Tabs>

You can also generate a test coverage report:

<Tabs
defaultValue="npm"
groupId="package-managers"
values={[
{label: 'npm', value: 'npm'},
{label: 'Yarn', value: 'yarn'},
]}>
<TabItem value="npm">

```bash
npm run test:coverage
```

</TabItem>
<TabItem value="yarn">

```bash
yarn test:coverage
```

</TabItem>
</Tabs>

Or a test gas report:

<Tabs
defaultValue="npm"
groupId="package-managers"
values={[
{label: 'npm', value: 'npm'},
{label: 'Yarn', value: 'yarn'},
]}>
<TabItem value="npm">

```bash
npm run test:report-gas
```

</TabItem>
<TabItem value="yarn">

```bash
yarn test:report-gas
```

</TabItem>
</Tabs>

### Deploy

Follow the instructions below to deploy your contracts:

1. Copy the `.env.example` file as `.env`.

    ```bash
    cp .env.example .env
    ```

2. Add your environment variables.

    :::note
    You should at least set a valid Ethereum URL (e.g. Infura) and a private key with some ethers.
    :::

3. And deploy your contract.

    <Tabs
    defaultValue="npm"
    groupId="package-managers"
    values={[
    {label: 'npm', value: 'npm'},
    {label: 'Yarn', value: 'yarn'},
    ]}>
    <TabItem value="npm">

    ```bash
    npm run deploy -- --semaphore <semaphore-address> --group <group-id> --network goerli
    ```

    </TabItem>
    <TabItem value="yarn">

    ```bash
    yarn deploy --semaphore <semaphore-address> --group <group-id> --network goerli
    ```

    </TabItem>
    </Tabs>

    :::note
    Check the Semaphore contract addresses [here](/docs/deployed-contracts#semaphore).
    :::

    :::caution
    The group id is a number.
    :::
